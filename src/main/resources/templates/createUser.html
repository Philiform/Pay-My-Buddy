<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Create Account</title>
	<link rel="stylesheet" href="/css/style.css" />
	<link rel="stylesheet" href="/webjars/bootstrap/5.2.3/css/bootstrap.min.css">
	<link rel="stylesheet" href="/webjars/bootstrap-icons/1.10.3/font/bootstrap-icons.css">
</head>

<body>
	<div class="row mt">
		<div class="col-md-12 py-2 text-center text-white bg-dark">
			<h6>Pay My Buddy</h6>
		</div>
	</div>

	<div class="row col-6 offset-3">
		<div class="row justify-content-between align-items-end px-0 mt-3">
			<div class="col-12 text-center">
				<h2>User Registration - Sign Up</h2>
			</div>
		</div>

		<div class="row bg-light">
			<div class="row px-5 py-4 align-items-center">
				<form method="get" th:if="${profileSaved == true}" th:action="@{/login}">
					<div class="col-12 mb-3">
						<div class="px-5 py-4 alert alert-success text-center">
						    <label th:text="${profileMessage}"></label>
						</div>
					</div>

					<div class="row justify-content-center px-0">
						<div class="col-auto">
							<button type="submit" class="btn btn-primary textBold">OK</button>
						</div>
					</div>					
				</form>

				<form method="post" th:if="${profileSaved == false}" th:action="@{/newUser/saveNewUser}" th:object="${newUserDTO}" enctype="utf8">
					<div class="col-12 mb-3">
						<label class="textBold">First Name</label>
						<input type="text" class="form-control" th:field="*{firstName}" minlength="2" maxlength="50" required>
					</div>

					<div class="col-12 mb-3">
						<label class="textBold">Last Name</label>
						<input type="text" class="form-control" th:field="*{lastName}" minlength="2" maxlength="50" required>
					</div>

					<div class="col-12 mb-3">
						<label class="textBold">Email</label>
						<input type="email" class="form-control" th:field="*{email}" minlength="6" maxlength="50" required>
					</div>

					<div class="col-12 mb-3">
						<label class="textBold">Password</label>
						<input type="password" class="form-control" th:field="*{password}" minlength="6" maxlength="50" required>
					</div>

					<div class="col-12 mb-3">
						<label class="textBold">Confirm Password</label>
						<input type="password" class="form-control" th:field="*{matchingPassword}" minlength="6" maxlength="50" required>
					</div>

					<div class="col-4 offset-4 mt-3 px-0">
							<button type="submit" class="btn btn-primary col-12" style="font-weight: bold;">Sign up</button>
					</div>

					<div class="col-12 mb-3">
						<div th:if="${errorMessage}" class="mt-2 alert alert-danger text-center">
						    <label th:text="${errorMessage}"></label>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
</body>
</html>